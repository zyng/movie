(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t){e.exports="data:image/png;base64,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"},36:function(e,t,a){e.exports=a(62)},42:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(14),i=a.n(o),r=a(2),s=a(3),l=a(5),m=a(4),u=a(6),d=a(10),h=a.n(d),v=a(23),p=a.n(v),f=a(32),g=a(18),E=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={firstName:"",lastName:"",email:"",subject:"",text:"",valid_firstName:!0,valid_lastName:!0,valid_email:!0,valid_subject:!0,valid_text:!0,acceptable:!1},a.subjects=["problem with account","problem with adding movie","problem with collection","problem with finding movie","deleted history","other"],a.messages={firstName:"first name",lastName:"last name",email:"address email",subject:"subject",text:"message"},a.errorMessage={required:"required",inputMinChar:"minimum 3 characters",textMinChar:"minimum 10 characters",email:"invalid email format"},a.active=function(e,t){var a=t?t.previousSibling:e.target.previousSibling;!(t?t.value:e.target.value)&&a.classList.contains("active")?a.classList.remove("active"):a.classList.add("active")},a.activeInput=function(e){e.target.nextSibling.focus()},a.handleChange=function(e){var t,n=e.target,c=n.name,o=n.value,i=a.checkInputs(n);a.setState((t={},Object(g.a)(t,c,o),Object(g.a)(t,"valid_".concat(c),i),t))},a.checkInputs=function(e){var t,n=e.value,c=e.name,o=n.length;return("firstName"===c||"lastName"===c)&&o>=3||"subject"===c&&n||"text"===c&&o>=10||"email"===c&&a.validateEmail(n)?(t=!0,e.classList.remove("error"),e.classList.add("success")):(t=!1,e.classList.remove("success"),e.classList.add("error")),t},a.checkValidation=function(){var e,t,n,c,o,i;return e=t=n=c=o=i=!1,a.state.firstName.length>=3&&(e=!0),a.state.lastName.length>=3&&(t=!0),a.state.subject&&(c=!0),a.state.text.length>=10&&(o=!0),a.validateEmail(a.state.email)&&(n=!0),e&&t&&n&&c&&o&&(i=!0),{firstName:e,lastName:t,email:n,subject:c,text:o,acceptable:i}},a.handleSubmit=function(e){e.preventDefault();var t=a.checkValidation(),n=Object(f.a)(document.querySelectorAll(".help-form input, .help-form textarea, .help-form select"));t.acceptable?(a.setState({firstName:"",lastName:"",email:"",subject:"",text:"",acceptable:!0,valid_firstName:!0,valid_lastName:!0,valid_email:!0,valid_subject:!0,valid_text:!0}),document.querySelector("form.help-form").classList.add("fadeOut"),setTimeout(function(){a.props.formAccepted()},1e3)):(a.setState({valid_firstName:t.firstName,valid_lastName:t.lastName,valid_email:t.email,valid_subject:t.subject,valid_text:t.text}),n.forEach(function(e){return a.checkInputs(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"validateEmail",value:function(e){return/\S+@\S+\.\S+/.test(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.valid_firstName,n=t.valid_email,o=t.valid_lastName,i=t.valid_subject,r=t.valid_text,s=this.subjects.map(function(e,t){return c.a.createElement("option",{key:t,value:t},e)});return c.a.createElement("form",{action:"",className:"help-form animated",noValidate:!0},c.a.createElement("div",{className:"help-form__personal-data"},c.a.createElement("label",{htmlFor:"",className:"personal-data__user_name"},c.a.createElement("span",{onClick:function(t){return e.activeInput(t)}},a?this.messages.firstName:this.errorMessage.inputMinChar),c.a.createElement("input",{name:"firstName",type:"text",onChange:function(t){return e.handleChange(t)},onFocus:function(t){return e.active(t)},onBlur:function(t){return e.active(t)}})),c.a.createElement("label",{htmlFor:"",className:"personal-data__user_name"},c.a.createElement("span",{onClick:function(t){return e.activeInput(t)}},o?this.messages.lastName:this.errorMessage.inputMinChar),c.a.createElement("input",{name:"lastName",type:"text",onChange:function(t){return e.handleChange(t)},onFocus:function(t){return e.active(t)},onBlur:function(t){return e.active(t)}}))),c.a.createElement("label",{htmlFor:""},c.a.createElement("span",{onClick:function(t){return e.activeInput(t)}},n?this.messages.email:this.errorMessage.email),c.a.createElement("input",{name:"email",type:"email",onChange:function(t){return e.handleChange(t)},onFocus:function(t){return e.active(t)},onBlur:function(t){return e.active(t)}})),c.a.createElement("label",{htmlFor:""},c.a.createElement("span",{onClick:function(t){return e.activeInput(t)}},i?this.messages.subject:this.errorMessage.required),c.a.createElement("select",{name:"subject",defaultValue:"",onChange:function(t){return e.handleChange(t)},onFocus:function(t){return e.active(t)},onBlur:function(t){return e.active(t)}},c.a.createElement("option",{value:"",disabled:!0}),s)),c.a.createElement("label",{htmlFor:""},c.a.createElement("span",{onClick:function(t){return e.activeInput(t)}},r?this.messages.text:this.errorMessage.textMinChar),c.a.createElement("textarea",{name:"text",cols:"30",rows:"10",onChange:function(t){return e.handleChange(t)},onFocus:function(t){return e.active(t)},onBlur:function(t){return e.active(t)}})),c.a.createElement("button",{type:"submit",className:"sendMessage",onClick:function(t){return e.handleSubmit(t)}},"Send ",c.a.createElement("i",{className:"fa fa-location-arrow"})))}}]),t}(n.Component),y=function(e){var t=e.children;return c.a.createElement("div",{class:"form-confirm animated fadeIn"},c.a.createElement("span",{class:"fa fa-envelope-open-o","aria-hidden":"true"}),t)},b=(a(42),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={formAccepted:!1},a.closeModal=function(){var e=document.querySelector(".form-section");e.classList.remove("bounceIn"),e.classList.add("bounceOut"),setTimeout(function(){e.parentNode.style.display="none",a.props.closeModal()},750)},a.accepted=function(){a.setState({formAccepted:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"form-container"},c.a.createElement("section",{className:"form-section animated bounceIn"},c.a.createElement("span",{className:"closeForm",onClick:this.closeModal}),c.a.createElement("h2",{className:"form-section__title"},this.state.formAccepted?"Thank You for contacting us":"Send us a message"),this.state.formAccepted?c.a.createElement(y,{children:"Thank you, email has beed sent."}):c.a.createElement(E,{formAccepted:this.accepted})))}}]),t}(n.Component)),N=a(11),_=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={messagePopUp:!1},a.popModal=function(e){e.preventDefault(),a.setState({messagePopUp:!0})},a.closeModal=function(){a.setState({messagePopUp:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,this.state.messagePopUp&&c.a.createElement(b,{closeModal:this.closeModal}),c.a.createElement("header",{className:"header"},c.a.createElement("a",{href:"/",className:"header__logo"},c.a.createElement("div",{className:"header__logo--red"}),c.a.createElement("div",{className:"header__logo--yellow"}),c.a.createElement("div",{className:"header__logo--green"})),c.a.createElement("div",{className:"header__title"},c.a.createElement("i",{className:"fa fa-film"}),c.a.createElement("span",null,"MyMovieApp")),c.a.createElement("nav",{className:"header__nav"},c.a.createElement("a",{href:"#",className:"hide-mobile",onClick:function(t){return e.popModal(t)}},"Help Center"),c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"profile__logo"},c.a.createElement("img",{src:p.a,alt:"user avatar"})),c.a.createElement("div",{className:"profile__name"},"Joe Dave"),c.a.createElement("i",{className:"fa fa-chevron-circle-down"}),c.a.createElement("ul",{className:"profile__menu"},c.a.createElement("li",null,c.a.createElement(N.a,{to:"/logout"},"Log out ",c.a.createElement("span",{className:"fa fa-sign-out","aria-hidden":"true"}))),c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:"show-mobile",onClick:function(t){return e.popModal(t)}},"Help Center ",c.a.createElement("span",{className:"fa fa-info","aria-hidden":"true"}))))))))}}]),t}(n.Component),w=a(34),k=a(63),M=a(24);function C(){var e=Object(M.a)(["\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    display: inline-block;\n    background-color: ",";\n    margin: 0 5px;\n"]);return C=function(){return e},e}var O=a(25).a.span(C(),function(e){return e.color}),j=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={days:0,hours:0,minutes:0},a.calculateTimeDifference=function(e){var t=(new Date).getTime()-e,n=Math.floor(t/6e4%60),c=Math.floor(t/36e5%60);c--;var o=Math.floor(t/864e5%24);a.setState({days:o,hours:c,minutes:n})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Date(this.props.createdAt).getTime();this.calculateTimeDifference(t),this.interval=setInterval(function(){return e.calculateTimeDifference(t)},6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e,t,a,n,o=this.props,i=o.movieName,r=o.collection,s=o.action,l=o.historyIcon,m=o.browseHistory,u=this.state,d=u.days,h=u.hours,v=u.minutes;switch(r){case"must-watch":t="Must Watch Titles",n="#e64c66";break;case"favourite":t="Favourite Titles",n="#ffab00";break;case"watched":t="Watched Titles",n="#00bfdd";break;case"maybe-later":t="Maybe Later Titles",n="#7874cf";break;default:t="Non Collection"}switch(s){case"add":e="added",a="to";break;case"remove":e="deleted",a="from";break;default:e="no action"}return c.a.createElement("div",{className:"history__notification"},l&&c.a.createElement("i",{className:"fa fa-history"}),c.a.createElement("div",{className:"notification__description"},c.a.createElement("div",{className:"notification__text"},m&&("add"===s?c.a.createElement("i",{className:"fa fa-plus-circle add"}):c.a.createElement("i",{className:"fa fa-minus-circle remove"})),"You ",e," ",c.a.createElement("span",null,i)," ",a," your ",m&&c.a.createElement(O,{color:n}),c.a.createElement("span",null,t),"."),c.a.createElement("div",{className:"notification__time"},d>0?"".concat(d," days"):""," ",h>0?"".concat(h," hours and"):""," ",v>0?"".concat(v," minutes ago"):"just now")))}}]),t}(n.Component),L="https://api.themoviedb.org/3/movie",A="https://api.themoviedb.org/3/list",x="ae60b48c0c9fb756e036cdeb7bc07360",I="1c9c64e55f08ecdb3d95d688e85862d1373616db",S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"popular",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return""!==n?"".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(x,"&query=").concat(n):""!==e&&"single"!==e||""===a?"similar"===e&&""!==a?"".concat(L,"/").concat(a,"/").concat(e,"?api_key=").concat(x,"&page=").concat(t):"".concat(L,"/").concat(e,"?api_key=").concat(x,"&page=").concat(t):"".concat(L,"/").concat(a,"?api_key=").concat(x)},T=function(e,t,a){switch(e){case"must-watch":return"remove"===a?"".concat(A,"/").concat(104224,"/remove_item?api_key=").concat(x,"&session_id=").concat(I,"&media_id=").concat(t):t?"".concat(A,"/").concat(104224,"/add_item?api_key=").concat(x,"&session_id=").concat(I,"&media_id=").concat(t):"".concat(A,"/").concat(104224,"?api_key=").concat(x);case"favourite":return"remove"===a?"".concat(A,"/").concat(104225,"/remove_item?api_key=").concat(x,"&session_id=").concat(I,"&media_id=").concat(t):t?"".concat(A,"/").concat(104225,"/add_item?api_key=").concat(x,"&session_id=").concat(I,"&media_id=").concat(t):"".concat(A,"/").concat(104225,"?api_key=").concat(x);case"watched":return"remove"===a?"".concat(A,"/").concat(104226,"/remove_item?api_key=").concat(x,"&session_id=").concat(I,"&media_id=").concat(t):t?"".concat(A,"/").concat(104226,"/add_item?api_key=").concat(x,"&session_id=").concat(I,"&media_id=").concat(t):"".concat(A,"/").concat(104226,"?api_key=").concat(x);case"maybe-later":return"remove"===a?"".concat(A,"/").concat(104227,"/remove_item?api_key=").concat(x,"&session_id=").concat(I,"&media_id=").concat(t):t?"".concat(A,"/").concat(104227,"/add_item?api_key=").concat(x,"&session_id=").concat(I,"&media_id=").concat(t):"".concat(A,"/").concat(104227,"?api_key=").concat(x);default:return""}},F=function(e,t){return t?"".concat(L,"/").concat(e,"/rating?api_key=").concat(x,"&session_id=").concat(I,"&value=").concat(t):"".concat(L,"/").concat(e,"/rating?api_key=").concat(x,"&session_id=").concat(I)},W="https://searchmoviesdatabase.herokuapp.com/api/history",P=function(e){return new Promise(function(t,a){fetch(e).then(function(e){return e.json()}).then(function(e){return t(e)})})},R=function(e,t,a,n,c){return fetch(e,{method:t,headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(a)}).then(function(e){e.ok?e.json().then(function(e){return n(e)}):c(e)})},G=function(e,t){return new Promise(function(a,n){return R(e,"POST",t,a,n)})},Y=function(e,t){return P(S(e,t))},D=function(e,t){return P(S("similar",t,e))},U=function(e,t){return P(S("",1,t,e))},H=function(e,t){return G(T(e,t))},z=function(e,t){return G(T(e,t,"remove"))},B=function(e){return P(T(e))},Q=function(e){return P(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat("https://api.themoviedb.org/3/account","/").concat(8223639,"/rated/movies?api_key=").concat(x,"&session_id=").concat(I,"&page=").concat(e)}(e))},q=function(e){return t=F(e),new Promise(function(e,a){fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.ok?e(t):a(t)})});var t},J=function(){return P(W)},V=function(e){return G(W,e)},K=function(e){var t=e.isActive,a=e.page,n=e.history;return c.a.createElement("div",{className:"loading__logo ".concat(t?"active":""," ").concat(a?"page":""," ").concat(n?"history":"")},c.a.createElement("div",{className:"".concat(n?"loading__logo--standard":"loading__logo--red")}),c.a.createElement("div",{className:"".concat(n?"loading__logo--standard":"loading__logo--yellow")}),c.a.createElement("div",{className:"".concat(n?"loading__logo--standard":"loading__logo--green")}))},Z=a(33),X=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={historyList:[],isLoading:!1},a.browseNavLinks=[{path:"/"},{path:"/popular"},{path:"/top_rated"},{path:"/now_playing"},{path:"/upcoming"},{path:"/watched"},{path:"/must-watch"},{path:"/favourite"},{path:"/similar"},{path:"/similar/:match"},{path:"/add-movie",browseInActive:!0},{path:"/maybe-later"},{path:"/history",browseInActive:!0}],a.toggleMenu=function(){var e=document.querySelector(".menu"),t=e.offsetWidth;e.classList.contains("active")&&t!==a.menuWidth?e.classList.remove("active"):e.classList.add("active")},a.toggleMenuOnHover=function(){if(!("ontouchstart"in document.documentElement))return!1;a.toggleMenu()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.menuWidth=document.querySelector(".menu").offsetWidth,this.setState({isLoading:!0}),J().then(function(t){return e.setState({historyList:t,isLoading:!1})})}},{key:"render",value:function(){var e=this,t=this.state.historyList.slice(-2).map(function(e){return c.a.createElement(j,{key:e.id,movieName:e.movie_name,collection:e.collection,action:e.action,createdAt:e.created_at,historyIcon:!0})});return c.a.createElement("aside",{className:"menu",onMouseEnter:this.toggleMenu,onMouseLeave:this.toggleMenu},c.a.createElement("div",{className:"menu__new-movie"},c.a.createElement(N.a,{to:"/add-movie",className:"addMovie"},c.a.createElement("i",{className:"fa fa-plus"}),c.a.createElement("span",null,"Add a movie"))),c.a.createElement("nav",{className:"menu__movie-search"},this.browseNavLinks.map(function(e,t){return c.a.createElement(w.a,{key:t,path:e.path,exact:!0,render:function(){return c.a.createElement(N.a,{to:"/",className:"".concat(e.browseInActive?"":"active")},c.a.createElement("i",{className:"fa fa-search"}),"Browse")}})}),c.a.createElement(k.a,{to:"/history",exact:!0,activeClassName:"active"},c.a.createElement("i",{className:"fa fa-history"}),"History")),c.a.createElement("div",{className:"menu__personal-categories"},c.a.createElement(k.a,{to:"/must-watch",activeClassName:"active"},c.a.createElement("span",{className:"category-icon"}),c.a.createElement("span",{className:"category-name"},"Must watch titles")),c.a.createElement(k.a,{to:"/favourite",activeClassName:"active"},c.a.createElement("span",{className:"category-icon"}),c.a.createElement("span",{className:"category-name"},"Favourites titles")),c.a.createElement(k.a,{to:"/watched",activeClassName:"active"},c.a.createElement("span",{className:"category-icon"}),c.a.createElement("span",{className:"category-name"},"Watched titles")),c.a.createElement(k.a,{to:"/maybe-later",activeClassName:"active"},c.a.createElement("span",{className:"category-icon"}),c.a.createElement("span",{className:"category-name"},"Maybe later titles"))),c.a.createElement(Z.a,{query:"(max-height: 800px)"},function(a){return a?c.a.createElement("button",{className:"hideMenu",onClick:e.toggleMenu},c.a.createElement("span",{className:"fa fa-arrow-left","aria-hidden":"true"})):c.a.createElement("div",{className:"menu__history"},e.state.isLoading&&c.a.createElement(K,{isActive:!0,page:!0,history:!0})||(t.length>0?t:"No history of your activity."))}))}}]),t}(n.Component),$=a(12),ee=a.n($),te=a(21),ae=a(30),ne=a.n(ae),ce=a(65),oe=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={savingProccess:!1,addedToMustWatch:!1,addedToFavourite:!1,addedToWatched:!1,addedToMaybeLater:!1,rating:a.props.userRating},a.collectionRoutes=[{path:"/must-watch"},{path:"/favourite"},{path:"/watched"},{path:"/maybe-later"}],a.browseMoviesRoute=[{path:"/"},{path:"/popular"},{path:"/top_rated"},{path:"/now_playing"},{path:"/upcoming"},{path:"/similar/:match"}],a.addToCollection=function(e,t,n,c){e.preventDefault();var o={movie_name:c,collection:t,action:"add"};switch(t){case"must-watch":a.state.addedToMustWatch||(a.setState({savingProccess:!0}),H("must-watch",n).then(function(){return a.setState({savingProccess:!1,addedToMustWatch:!0})}).then(function(){return V(o)}));break;case"favourite":a.state.addedToFavourite||(a.setState({savingProccess:!0}),H("favourite",n).then(function(){return a.setState({savingProccess:!1,addedToFavourite:!0})}).then(function(){return V(o)}));break;case"watched":a.state.addedToWatched||(a.setState({savingProccess:!0}),H("watched",n).then(function(){return a.setState({savingProccess:!1,addedToWatched:!0})}).then(function(){return V(o)}));break;case"maybe-later":a.state.addedToMaybeLater||(a.setState({savingProccess:!0}),H("maybe-later",n).then(function(){return a.setState({savingProccess:!1,addedToMaybeLater:!0})}).then(function(){return V(o)}));break;default:console.log("something wrong")}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"changeRating",value:function(e,t,a){var n=this;this.setState({rating:a}),this.setState({savingProccess:!0}),function(e,t){return G(F(e,t))}(e,a).then(function(){"watched"!==t&&H("watched",e)}).then(function(){return n.setState({savingProccess:!1})})}},{key:"toggleMovie",value:function(e){var t=e.target.parentNode;t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active")}},{key:"toggleMovieOnHover",value:function(e){if("ontouchstart"in document.documentElement)return!1;this.toggleMovie(e)}},{key:"toggleMovieOnClick",value:function(e){if(!("ontouchstart"in document.documentElement))return!1;this.toggleMovie(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.title,o=t.poster,i=t.rating,r=t.homepage,s=t.genres,l=t.similarResult,m=t.watched,u=t.maybeLater,d=t.favourite,h=t.mustWatch,v=t.actualPage,p=t.removeMovieFromCollection,f=t.showMovie,g=this.state,E=g.savingProccess,y=g.addedToMustWatch,b=g.addedToFavourite,_=g.addedToWatched,k=g.addedToMaybeLater,M=Array.isArray(s)?s.join(", "):s;return c.a.createElement("div",{className:"movie ".concat(f?"":"hide")},c.a.createElement("div",{className:"movie__content",onClick:function(t){return e.toggleMovieOnClick(t)},onMouseEnter:function(t){return e.toggleMovieOnHover(t)},onMouseLeave:function(t){return e.toggleMovieOnHover(t)}},c.a.createElement(K,{isActive:E}),c.a.createElement("img",{src:"https://image.tmdb.org/t/p/original".concat(o),alt:""}),c.a.createElement("div",{className:"movie__actions"},c.a.createElement(ce.a,null,this.collectionRoutes.map(function(e,t){return c.a.createElement(w.a,{key:t,path:e.path,exact:!0,strict:!0,render:function(){return c.a.createElement("div",{onClick:function(){return p(v,a,n)},className:"movie__remove"},c.a.createElement("span",{className:"fa fa-trash"}))}})}),this.browseMoviesRoute.map(function(t,o){return c.a.createElement(w.a,{key:o,path:t.path,exact:!0,strict:!0,render:function(){return c.a.createElement("div",{className:"movie__add"},c.a.createElement("div",{onClick:function(t){return e.addToCollection(t,"must-watch",a,n)},className:"movie__action ".concat(y?"active":"")},c.a.createElement("a",{href:"/"}," "),c.a.createElement("span",null,y?"Added to Must Watch":h)),c.a.createElement("div",{onClick:function(t){return e.addToCollection(t,"favourite",a,n)},className:"movie__action ".concat(b?"active":"")},c.a.createElement("a",{href:"/"}," "),c.a.createElement("span",null,b?"Added to Favourite":d)),c.a.createElement("div",{onClick:function(t){return e.addToCollection(t,"watched",a,n)},className:"movie__action ".concat(_?"active":"")},c.a.createElement("a",{href:"/"}," "),c.a.createElement("span",null,_?"Added to Watched":m)),c.a.createElement("div",{onClick:function(t){return e.addToCollection(t,"maybe-later",a,n)},className:"movie__action ".concat(k?"active":"")},c.a.createElement("a",{href:"/"}," "),c.a.createElement("span",null,k?"Added to Maybe Later":u)))}})})),r&&c.a.createElement("a",{href:r,target:"_blank",className:"movie__btn movie__btn--goto"},"Check Movie"),l>0&&c.a.createElement(N.a,{to:"/similar/".concat(a),className:"movie__btn movie__btn--similar"},"Show Similar"),c.a.createElement("div",{className:"movie__rate"},c.a.createElement("span",null,"Your rating:"),c.a.createElement(ne.a,{rating:this.state.rating,starDimension:"20px",starSpacing:"3px",numberOfStars:10,starHoverColor:"#15a4fa",starRatedColor:"#ffab00",changeRating:this.changeRating.bind(this,a,v),name:"rating"})))),c.a.createElement("div",{className:"movie__description"},c.a.createElement("div",{className:"movie__title-category"},c.a.createElement("span",{className:"movie__title"},n),c.a.createElement("span",{className:"movie__category"},M)),c.a.createElement("div",{className:"movie__rating"},i)))}}]),t}(n.Component);oe.defaultProps={mustWatch:"Add to Must watch",favourite:"Add to Favourites",watched:"Add to Watched",maybeLater:"Add to Maybe Later"};var ie=oe,re=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={movies:[],page:1,type:"",action:"overwrite",currentMovieId:"",readMoreMovies:!1,isLoading:!1,isUserList:!1},a.loadMovies=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"popular",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";("must-watch"===e||"favourite"===e||"watched"===e||"maybe-later"===e?B(e):c?U(c):"similar"===e&&n?D(n,a.state.page):e&&t||e?Y(e,t):Y("popular",1)).then(function(c){var o=c.results||c.items;(!c.total_pages||t<=c.total_pages)&&Promise.all(o.map(function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e.id,"?api_key=ae60b48c0c9fb756e036cdeb7bc07360"))})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(e){return e.map(function(e,t){var a=o[t];return a.genres=e.genres?e.genres.map(function(e){return e.name}):[],a.homepage=e.homepage,a.display=!0,a})}).then(function(){var e=Object(te.a)(ee.a.mark(function e(t){return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q().then(function(){var e=Object(te.a)(ee.a.mark(function e(a){var n,c,i;return ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.total_pages,c=a.results,t=o.map(function(e){return c.forEach(function(t){e.id===t.id&&(e.user_rating=t.rating)}),e}),!(n>1)){e.next=11;break}i=2;case 5:if(!(i<=n)){e.next=11;break}return e.next=8,Q(i).then(function(e){var a=e.results;t=o.map(function(e){return a.forEach(function(t){e.id===t.id&&(e.user_rating=t.rating)}),e})});case 8:i++,e.next=5;break;case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).then(function(t){Promise.all(t.map(function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e.id,"/similar?api_key=ae60b48c0c9fb756e036cdeb7bc07360"))})).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var c=t.map(function(e,t){var a=o[t];return a.similarResult=e.total_results,a});if("overwrite"===a.state.action)a.setState({movies:c,type:e,currentMovieId:n,page:1,readMoreMovies:!1,isLoading:!1});else if("load"===a.state.action){var i=a.state.movies.concat(c);a.setState(function(t){return{movies:i,action:a.props.action,type:e,readMoreMovies:!1,isLoading:!1}})}})}).catch(function(e){return console.log(e)})})},a.loadNewMovies=function(e,t,n){a.setState({action:"overwrite"}),a.loadMovies(e,t,n)},a.loadNextPage=function(e,t,n){a.setState({readMoreMovies:!0}),a.loadMovies(e,t,n)},a.changeTypeMovies=function(e){a.loadMovies(e,1)},a.handleInput=function(e){var t=e.target.value,n=t.replace(/ /g,"+");if(a.state.isUserList){var c=a.state.movies.map(function(e){return e.title.toLowerCase().includes(t)?e.display=!0:e.display=!1,e});a.setState({movies:c})}else a.loadMovies("",1,"",n)},a.removeMovie=function(e,t,n){var c={movie_name:n,collection:e,action:"remove"};z(e,t).then(function(){var e=a.state.movies.filter(function(e){return e.id!==t});a.setState({movies:e})}).then(function(){"watched"===a.state.type&&q(t)}).then(function(){return V(c)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;h()("html, body").animate({scrollTop:0},400);var t=this.props.match.params.id,a=this.props.match.params.match||"",n=t||"popular";"must-watch"===n||"favourite"===n||"watched"===n||"maybe-later"===n?this.setState({isUserList:!0}):this.setState({isUserList:!1}),this.setState({isLoading:!0}),a?this.loadMovies(n,1,a):this.loadMovies(n),window.onbeforeunload=function(){window.scrollTo(0,0)},window.onscroll=function(){if(window.innerHeight+window.scrollY>=document.body.offsetHeight&&!e.state.isUserList&&!e.state.readMoreMovies){var t=e.state.page+1;e.setState({action:"load",page:t}),e.loadNextPage(e.state.type,t,e.state.currentMovieId)}}}},{key:"render",value:function(){var e=this,t=this.state.movies.map(function(t){if(t.poster_path&&t.title&&t.vote_average)return c.a.createElement(ie,{genres:t.genres,homepage:t.homepage,key:t.movie_id||t.id,id:t.movie_id||t.id,title:t.title,poster:t.poster_path,rating:t.vote_average,similarResult:t.similarResult,actualPage:e.props.match.params.id,removeMovieFromCollection:e.removeMovie,userRating:t.user_rating,showMovie:t.display})});return c.a.createElement("div",{className:"movies"},this.state.isLoading&&c.a.createElement(K,{isActive:!0,page:!0})||(t.length>0?t:"No movies in collection."))}}]),t}(n.Component),se=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={historyList:[],isLoading:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),J().then(function(t){return e.setState({historyList:t,isLoading:!1})})}},{key:"render",value:function(){var e=this.state.historyList.map(function(e){return c.a.createElement(j,{key:e.id,movieName:e.movie_name,collection:e.collection,action:e.action,createdAt:e.created_at,browseHistory:!0})});return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"menu__history browse-history"},this.state.isLoading&&c.a.createElement(K,{isActive:!0,page:!0})||(e.length>0?e:"No history of your activity.")))}}]),t}(n.Component),le=function(){return c.a.createElement("div",{className:"unexpected-error"},"The service is temporarily unavailable. We apologize and invite you soon. ")},me=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={type:"popular"},a.movies=c.a.createRef(),a.routes=[{path:"/"},{path:"/:id"},{path:"/:id/:match"}],a.changeTypeMovies=function(e){a.setState({type:e})},a.changeInput=function(e){a.movies.current.handleInput(e)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("section",{className:"main__content"},c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:"main__header"},c.a.createElement("div",{className:"main__title"},"similar"===this.state.type?"Similar":"Browse Available"," Moviess"),c.a.createElement("div",{className:"main__actions-bar"},c.a.createElement("ul",{className:"main__filters"},c.a.createElement("li",{onClick:function(){return e.changeTypeMovies("popular")}},c.a.createElement(k.a,{to:"/popular",activeClassName:"active"},c.a.createElement("span",null,"Popular Movies"))),c.a.createElement("li",{onClick:function(){return e.changeTypeMovies("top_rated")}},c.a.createElement(k.a,{to:"/top_rated",activeClassName:"active"},c.a.createElement("span",null,"Top Rated Movies"))),c.a.createElement("li",{onClick:function(){return e.changeTypeMovies("now_playing")}},c.a.createElement(k.a,{to:"/now_playing",activeClassName:"active"},c.a.createElement("span",null,"Now Playing Movies"))),c.a.createElement("li",{onClick:function(){return e.changeTypeMovies("upcoming")}},c.a.createElement(k.a,{to:"/upcoming",activeClassName:"active"},c.a.createElement("span",null,"Upcoming Movies")))),c.a.createElement(w.a,{path:"/",render:function(t){return"/history"!==t.location.pathname?c.a.createElement("label",{htmlFor:"search-movie"},c.a.createElement("input",{onChange:e.changeInput,type:"text",id:"search-movie",placeholder:"Enter keywords..."}),c.a.createElement("i",{className:"fa fa-search"})):null}}))),c.a.createElement(ce.a,null,c.a.createElement(w.a,{path:"/history",component:se}),c.a.createElement(w.a,{path:"/add-movie",component:le}),c.a.createElement(w.a,{path:"/logout",component:le}),this.routes.map(function(t,a){return c.a.createElement(w.a,{key:a,path:t.path,component:function(t){return c.a.createElement(re,Object.assign({},t,{ref:e.movies}))}})}))))}}]),t}(n.Component),ue=a(64),de=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).handleGoToTop=function(){return h()("html, body").animate({scrollTop:0},400),!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=h()(".scrollToTop");h()(window).scroll(function(){h()(this).scrollTop()>500?h()(e).fadeIn("slow"):h()(e).fadeOut("slow")})}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ue.a,{basename:"/movie"},c.a.createElement(c.a.Fragment,null,c.a.createElement(_,null),c.a.createElement("main",null,c.a.createElement(X,null),c.a.createElement(me,null)))),c.a.createElement("button",{onClick:this.handleGoToTop,className:"scrollToTop"},c.a.createElement("i",{className:"fa fa-angle-double-up"})))}}]),t}(n.Component);a(56),a(58),a(60),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.40d29c35.chunk.js.map